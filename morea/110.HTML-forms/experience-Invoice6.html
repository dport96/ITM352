<!DOCTYPE html>
<html lang="en">
<head>
  <title> ITM 352 | Invoice6 </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">

  <link rel="stylesheet" href="/ITM352/css/themes/spacelab/bootstrap.min.css">
  <link rel="stylesheet" href="/ITM352/css/style.css">
  <link rel="stylesheet" href="/ITM352/css/syntax.css">
  <link rel="shortcut icon" href="/ITM352/favicon.ico" type="image/x-icon" />
  <script src="https://kit.fontawesome.com/020726ec0d.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>

  

  <!-- Load JQuery, then use it to attach the class 'active' to navbar item currently displayed. -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script>
    $(window).on('load', function () {
      $('.nav-item').find('a[href="' + location.pathname + '"]').addClass('active');
    });
  </script>

</head>
<body>

<div class="navbar navbar-expand-lg fixed-top navbar-light bg-light">
  <div class="container">
    <a class="navbar-brand" href="/ITM352/index.html"> ITM 352 </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav">
        
        <li class="nav-item"><a class="nav-link" href="/ITM352/modules/">Modules</a></li>
        
        <li class="nav-item"><a class="nav-link" href="/ITM352/outcomes/">Outcomes</a></li>
        
        
        <li class="nav-item"><a class="nav-link" href="/ITM352/readings/">Readings</a></li>
        
        
        <li class="nav-item"><a class="nav-link" href="/ITM352/experiences/">Experiences</a></li>
        
        
        
        <li class="nav-item"><a class="nav-link" href="/ITM352/schedule/">Schedule</a></li>
        
      </ul>
    </div>
  </div>
</div>

<!-- Internal fragment for displaying the breadcrumb bar -->
<div class="breadcrumb-background" style="padding-top: 1em; padding-bottom: .01em">
  <div class="container">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        
        <li class="breadcrumb-item"><a href="/ITM352/">Home</a></li>
        <li class="breadcrumb-item"><a href="/ITM352/modules">Modules</a></li>
        <li class="breadcrumb-item"><a href="/ITM352/modules/"></a></li>
        <li class="breadcrumb-item active">Invoice6</li>
      </ol>
    </nav>
  </div>
</div>


<div class="container">
  <h1 id="use-html-forms-to-adjust-quantities-in-an-invoice-of-products">Use HTML forms to adjust quantities in an invoice of products.</h1>

<p>When the user changes the quantities and hits the update button the invoice re-calculates using the new quantities entered.</p>

<p><em>HINT: This will NOT require a lot of new code or changing a lot of the existing code</em></p>

<p><em>ANOTHER HINT: See the above hint. For real, don’t make this harder that it is!</em></p>

<ol>
  <li>
    <p>Start by copying the <a href="../110.HTML-forms/experience-Invoice5.html">Invoice5</a> into a new JAVASCRIPT project. Call it Invoice6 and check that the table displays properly. If you don’t have a working Invoice5 you can get one <a href="../110.HTML-forms/Invoice5.zip">here</a></p>
  </li>
  <li>
    <p>Modify the cells in quantity column in the table to have a textboxes with whose value for product in row <code class="language-plaintext highlighter-rouge">$i</code> is  <code class="language-plaintext highlighter-rouge">$selected_products[$i]['quantity']</code> . Name the textboxes <code class="language-plaintext highlighter-rouge">'quantity'.$i</code> so they correspond to the index of the product array in <code class="language-plaintext highlighter-rouge">$selected_products</code> used for that row. Make the textboxes with <code class="language-plaintext highlighter-rouge">size=2</code></p>
  </li>
  <li>
    <p>In the row after all the products but before the invoice calculations, add a submit button with value “Update Quantity”. Put it in the cell for the quantity column or use a single cell with <code class="language-plaintext highlighter-rouge">colspan=4 align=center</code> for this row.</p>
  </li>
  <li>
    <p>Add form with action <code class="language-plaintext highlighter-rouge">&lt;?php echo $_SERVER['JAVASCRIPT_SELF']; ?&gt;</code> using the POST method. That is, this is a self-processing page. The resulting page should look like this:
<br />
<img src="Invoice6.png" alt="Invoice6" /></p>
  </li>
  <li>
    <p>In the loop that does the invoice calculations, check if there is something posted by the user and if so, use the new quantity values from the textboxes in the form. This can be done inside the calculation loop at the top. Assuming the counter <code class="language-plaintext highlighter-rouge">$i</code> for this loop, you can do something like</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     if (isset($_POST['quantity'.$i])) {
         $selected_products[$i]['quantity'] = $_POST["quantity$i"];
     }
</code></pre></div>    </div>
  </li>
  <li>
    <p>Test out your updatable invoice by putting some new values in and seeing if the invoice recalculates with the new values. Note what happens if you use bad inputs like negative numbers, floats, strings, etc. Think about how you might avoid problems with this in a future version.</p>
  </li>
</ol>

<style>
#wod-times .label-success {
    background-color: #3cb521
}

#wod-times .label-info {
    background-color: #3399f3
}

#wod-times .label-warning {
    background-color: #d47500
}

#wod-times .label-danger {
    background-color: #cd0200
}
</style>

<p><span class="h4" id="wod-times">
  <span style="padding: 2px" class="label label-success">Rx: &lt;8 min</span>
  <span style="padding: 2px" class="label label-info">Av: 8-15 min</span>
  <span style="padding: 2px" class="label label-warning">Sd: 15-20 min</span>
  <span style="padding: 2px" class="label label-danger">DNF: 20+ min</span>
</span></p>

</div>




<!-- Maybe find a different way?
<script src="/ITM352/js/scrollIfAnchor.js"></script>
-->

<footer class="footer footer-background" style="padding-top: 1em; padding-bottom: 1em">
  <div class="container text-center">
    
    <p>Dan Port | Information Technology Management | University of Hawaii, Manoa <br />
dport@hawaii.edu<br /></p>

    
    <p style="margin: 0">Powered by the <a class="footer-link" href="https://morea-framework.github.io/">Morea Framework</a> (Theme: spacelab)<br>
      Last update on: <span>2023-12-06 16:10:13 -1000</span></p>

    <p style="margin: 0">
      
      19 modules
      
      | 19 outcomes
      
      
      | 42 readings
      
      
      | 86 experiences
      
      
    </p>
  </div>
</footer>


<!-- Load Bootstrap JavaScript components -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>


<script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML">
</script>


<!-- Add anchors to pages. -->
<script>anchors.add();</script>


</body>
</html>
